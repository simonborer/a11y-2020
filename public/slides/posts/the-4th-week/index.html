<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
	<link rel="manifest" href="/images/site.webmanifest">
	<title>Step 4: The DOM &amp; Assistive Devices</title>
	<meta name="description" content="2020 Humber Accessibility/Usability Course">
	<meta name="author" content="Simon Borer">
	

<link rel="stylesheet" href="https://a11y2020.ca/sass/slides/main-slides.min.aab848a1d1f8dba29bec4579aeb3ceed7ec441958942525e16827adbdd2be2df.css">

</head>
<body>
	
<div class="reveal">
  <div class="slides">
    <section class="slide-only">
    <h2>Here's what we're going today</h2>
    <ol>
        <li>Praxis
            <ol>
                <li>Linting!</li>
                <li>An accessible accordion</li>
            </ol>
        </li>
    </ol>
</section>
   <section>
        <h3>Accessibility review</h3>
        <p>Accessibility is both a philosophy and a legal requirement.</p>
        <p><strong>Philosophy</strong>: removing barriers and creating equity.</p>
        <p><strong>Law</strong>: The Access for Ontarians with Disabilities Act, in accordance with the Canadian Charter of Rights and Freedoms, mandates a level of WCAG compliance.</p>
    </section>
    <section>
        <p>WCAG compliance mandates semantics, content, proper source order, text alternatives to visual information, accomodations for colour-blindness and low visual acuity, keyboard-only functionality, and the use of the WAI-ARIA specification.</p>
    </section>
    <section>
        <p><strong>Semantics</strong> in HTML refers to using native elements and attributes for their defined purpose.</p>
        <p>A correct <strong>source order</strong> means that the visual flow of the document matches the source code.</p>
        <p><strong>Text alternatives</strong> are provided when information is presented visually - this includes images, graphs, charts and tables, but also cases where elements have implicit functions based on the visual design, i.e. buttons within a form.</p>
    </section>
    <section>
        <p>We can provide alternatives to this visual information with <code>alt</code> tags for graphic content, <code>scope</code> and <code>caption</code> for tables, and <code>label</code>s or screen reader-specific content for inputs, buttons and links.</p>
        <p>We must also keep in mind that our elements are often used as navigational landmarks for people using non-visual clients, including headers for document structure.</p>
    </section>
    <section>
        <p>Accessible <strong>content</strong> means...</p>
        <ol>
            <li class="fragment">Unique page titles (as it can be difficult to assess if the page has actually changed otherwise)</li>
            <li class="fragment">Concise link text (as screen readers read them in their entirety)</li>
            <li class="fragment">Accessible information about link behaviour</li>
            <li class="fragment">Skippable navigation</li>
            <li class="fragment">Captions and transcriptions that contain all relevant visual information</li>
            <li class="fragment">Verbose error messages (that capture focus), and</li>
            <li class="fragment">Using words rather than ASCII symbols</li>
        </ol>
    </section>
    <section>
        <p>Because not all visually impairments require the use of a screenreader, we provide <strong>alternatives to colour cues</strong> for people with colour-blindness (i.e. focus outline, proper labelling), and for people with reduced visual abilities we check our <strong>colour contrast ratios</strong> and test our websites for up to <strong>200% zoom</strong>.</p>
    </section>
    <section>
        <p>For people with motor-impairment issues, we ensure that we do not disable the native functionality of our proper semantic HTML, and where native functionality is not available, we create <strong>keyboard events</strong> to supplement our click events.</p>
        <p>We also maintain our tab order by having our source order properly represented.</p>
        <p>On those rare occasions where our visual order and source order are in conflict, we can control focus with Javascript.</p>
        <p>Where we want to make an element focusable that does not have native focusability, we can use the <code>tabindex='0'</code> attribute value.</p>
    </section>
    <section>
        <p>The <strong>WAI-ARIA</strong> specification allows us to supplement our HTML elements, widgets and document presentation by defining roles and properties for screenreader users.</p>
        <p>This is especially important when updating content on the page without a location change or page refresh, which is a common practice when using modern front-end javascript frameworks, such as Angular, React, and Vue.</p>
    </section>
    <section>
        <p>Of course we keep in mind that all these standards apply whether on a desktop or mobile device, with a few special considerations for mobile, including...</p>
        <ol>
            <li class="fragment">Maintaining keyboard functionality</li>
            <li class="fragment">Supporting different orientations</li>
            <li class="fragment">Touch target size and spacing</li>
            <li class="fragment">Gesture alternatives, and </li>
            <li class="fragment">Appropriate virtual keyboard data types.</li>
        </ol>
    </section>
    <section>
        <p>In order to enforce accessibility compliance and best practices, we need to help our team mates understand these techniques. We can encourage our team to use <strong>manual testing tools</strong> like the WAVE browser plugin, incorporate <strong>linting</strong> into our build process and <strong>auditing</strong> into our deployment or site monitoring</p>
        <p>Additionally, because some accessibility techniques, especially ARIA, are context-dependent, automated enforcement can be a challenge. Manual <strong>code review</strong> is an essential part of making our whole team stronger and our product better.</p>
    </section>
<section>
    <h3>The DOM API</h3>
    <p>Both 'DOM' and 'API' are acronyms that get thrown around a lot. Let's quickly make sure we all know what they mean.</p>
    <p>An <strong>Application Programming Interface</strong> is a user interface, where the user is a person writing a computer script. It provides you information and functionality from the document or application that you're interacting with.</p>
    <p>The <strong>Document Object Model</strong> is an API that represents an HTML (or XML) document as a traversable tree structure. The elements (and attributes, including text content) within that structure are referred to as 'nodes'.</p>
</section>
<section>
    <p>There are different kinds of attributes we can assign to DOM nodes. There are native attributes, which are provided by the HTML spec, e.g. <code>class</code>, <code>alt</code>, <code>target</code>. There are data attributes (added in HTML5), which are user-customizable. And there are ARIA attributes.</p>
    <p>ARIA (Accessible Rich Internet Applications) provides contextual information about if and how DOM nodes can update, and what happens when they do.</p>
</section>
<section>
    <h3>When to use ARIA</h3>
    <ol>
        <li class="fragment">There is a DOM node (including text) that can or does update without a page refresh being triggered, and</li>
        <li class="fragment">There is no native semantics or attribute available.</li>
    </ol>
</section>
<section>
    <h3>Don&#39;t be redundant</h3>
    <p><code>div[role='button']</code> is not redundant, but <code>button[role='button']</code> <em>is</em> redundant.</p>
</section>
<section>
    <h3>Want to be safe?</h3>
    <p>TEST</p>
    <p>I can't emphasize enough how important it is to test. That's why there are QA departments. It is wonderful to follow best practices, but even when specification documentation is perfect (it's not), and even when you limit your scope to the latest versions of a few popular clients (don't), and even when your linters catch all the edge cases (they won't), you still makes mistakes.</p>
</section>
<section>
    <h3>What ARIA attributes?</h3>
    <p>You can find a pretty comprehensive list at <a href='https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques'>https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques</a></p>
    <p>There are a lot, but you should know about the <code>role</code> attribute, which labels interactive elements, including tabs, search, form, and grid; and state attributes including <code>aria-live</code>, <code>aria-expanded</code>, and <code>aria-hidden</code> (which differs from the native <code>hidden</code> attribute).</p>
</section>
<section>
    <h3>Showing &amp; hiding</h3>
    <p>
        <p data-height="463" data-theme-id="0" data-slug-hash="xjBoWv" data-default-tab="result" data-user="simonborer" data-embed-version="2" data-pen-title="Hiding Techniques" class="codepen">See the Pen <a href="https://codepen.io/simonborer/pen/xjBoWv/">Hiding Techniques</a> by Simon Borer (<a href="https://codepen.io/simonborer">@simonborer</a>) on <a href="https://codepen.io">CodePen</a>.</p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    </p>
</section>
<section>
    <h3>Accessible tabs are &lt;em&gt;hard&lt;/em&gt;</h3>
    <p>
        <p data-height="265" data-theme-id="0" data-slug-hash="pVBoQx" data-default-tab="js,result" data-user="simonborer" data-embed-version="2" data-pen-title="pVBoQx" class="codepen">See the Pen <a href="https://codepen.io/simonborer/pen/pVBoQx/">pVBoQx</a> by Simon Borer (<a href="https://codepen.io/simonborer">@simonborer</a>) on <a href="https://codepen.io">CodePen</a>.</p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    </p>
</section>
<section>
    <h3>Tabindex</h3>
    <p><code>tabindex</code> is an attribute that specifies <em>focusability</em>. Focus is usually stepped through with the <code>tab</code> key, hence the name.</p>
    <p><code>tabindex="-1"</code> is focusable, but not sequentially. As in, you can`t tab to it.</p>
    <p><code>tabindex="0"</code> means that the element is focusable in the normal tab sequence.</p>
    <p><code>tabindex="1"</code>, or any other positive value, means that this element takes precedence over any other element without a declared tabindex. If you are using this, that`s a bad sign.</p>
</section>
<section>
    <p>Remember not to confuse the visual order with the DOM order :)</p>
    <p>Declaring a tabindex value can affect scrolling behaviour on child elements. For examples, see <a href="https://jsfiddle.net/jainakshay/0b2q4Lgv/">https://jsfiddle.net/jainakshay/0b2q4Lgv/</a></p>
</section>
<section>
    <h3>WAI-ARIA deep dive</h3>
    <p>As we covered earlier, WAI-ARIA, a.k.a. ARIA, is a specification from the W3C that uses element attributes to supplement existing semantics <ol>
            <li>to provide more information about your markup, and</li>
            <li>provide information about content that updates without a page refresh.</li>
    </p>
    <p>This is especially relevant when you are using a front-end javascript framework (Angular, React, Vue, et al.).</p>
</section>
<section>
    <p>Remember that the spec tells us that we should use native semantics when they are available.</p>
    <p>If it's a button, use a < button>.</p>
</section>
<section>
    <h3>ARIA roles</h3>
    <p>The role attribute provides information about an element's purpose.</p>
    <p>The role attribute identifies the element to the screenreader, but it <em>does not</em> recreate the native functionality. That's on you.</p>
</section>
<section>
    <h3>role=&#34;button&#34;</h3>
    <p>Let's say, for whatever reason, you need to make a button out of something that's not < button>,
            < input type='button' />,
            < input type='submit' />,
            < input type='reset' /> or
            < input type='image' />.</p>
    <p><code>role='button'</code> identifies any element as a button to a screenreader. Use this in conjunction with <code>tabindex='0'</code> - the role itself does not make the element focusable.</p>
    <p>Remember, too, that a native HTML button will fire an onclick event when space or enter are pressed - so you're also responsible for recreating that native functionality.</p>
</section>
<section>
    <h3>More roles! - widgets</h3>
    <p><code>checkbox</code></p>
    <p><code>dialog</code> (this can be a modal, or not)</p>
    <p><code>link</code></p>
    <p><code>log</code> (i.e. a chat log)</p>
    <p><code>marquee</code> (like a <code>log</code>, but not vital or linear, i.e. a carousel or stock ticker)</p>
    <p><code>progressbar</code></p>
    <p><code>radio</code></p>
    <p><code>scrollbar</code></p>
</section>
<section>
    <p><code>slider</code> (i.e. a range slider or volume control)</p>
    <p><code>spinbutton</code> (a value selection input with up and down arrows)</p>
    <p><code>status</code> (a status update message, i.e. `your changes have been saved`</p>
    <p><code>tablist</code> > <code>tab</code> + <code>tabpanel</code></p>
    <p><code>grid</code> > <code>row</code> > <code>rowheader</code> + <code>cell</code> + <code>columnheader</code></p>
    <p><code>menubar</code> > <code>menu</code> > <code>menuitem</code> + <code>menuitemcheckbox</code></p>
    <p><code>textbox</code></p>
    <p><code>timer</code></p>
    <p><code>tooltip</code></p>
</section>
<section>
    <p><code>tree</code>/<code>treegrid</code> > <code>treeitem</code></p>
    <p><code>switch</code> identical to <code>checkbox</code>, but strictly for values of on or off</p>
    <p><code>listbox</code> > <code>option</code></p>
    <p><code>radiogroup</code> > <code>radio</code></p>
</section>
<section>
    <h3>Even more roles! - document structure</h3>
    <p><code>article</code></p>
    <p><code>definition</code></p>
    <p><code>directory</code> (i.e. table of contents)</p>
    <p><code>document</code></p>
    <p><code>group</code> (of UI elements not in a perceivable page section)</p>
    <p><code>heading</code></p>
    <p><code>img</code> (useful in case of background images)</p>
    <p><code>list</code> > <code>listitem</code></p>
</section>
<section>
    <p><code>math</code> (there is an entire markup language for mathy stuff! it's called <a href='https://www.w3.org/Math/whatIsMathML.html' target='_blank'>MathML</a> and can be called into other markup, like HTML)</p>
    <p><code>note</code></p>
    <p><code>presentation</code> - similar in function to aria-hidden; this tells the screenreader that the element is decorative, but <a href='http://john.foliot.ca/aria-hidden/' target='_blank'>support for it on natively focusable elements is interesting</a>.</p>
    <p><code>region</code></p>
    <p><code>separator</code></p>
    <p><code>toolbar</code></p>
</section>
<section>
    <h3>And finally... more roles! - landmarks</h3>
    <p><code>application</code> - for when your HTML document behaves completely different from a standard html document; probably don't use this. It turns off all standard keyboard shortcuts in most screenreaders.</p>
    <p><code>banner</code> - analogous to < header>
    </p>
    <p><code>complementary</code> - like < aside>
    </p>
    <p><code>contentinfo</code> - like < footer>
    </p>
    <p><code>form</code></p>
    <p><code>main</code></p>
    <p><code>navigation</code></p>
    <p><code>search</code></p>
</section>
<section>
    <h3>Widget attributes</h3>
    <p><code>role="combobox|textbox" aria-autocomplete="none|inline|list|both"</code></p>
    <p><code>role="checkbox|switch|..." aria-checked="true|false|mixed"</code></p>
    <p><code>aria-current="page|step|date|location|time|true|false"</code></p>
    <p><code>aria-disabled="true|false"</code></p>
    <p>aria-expanded="true|false"</code></p>
    <p><code>aria-haspopup="true|false|menu|listbox|tree|grid|dialog"</code></p>
    <p><code>aria-hidden="true|false|undefined"</code></p>
    <p><code>aria-invalid="true|false|grammar|spelling"</code></p>
    <p><code>aria-label={string}</code> only for invisible text</p>
</section>
<section>
    <p><code>role="grid|heading|listitem|row|tablist" aria-level={integer}</code></p>
    <p><code>role="textbox" aria-multiline="true|false"</code></p>
    <p><code>role="grid|listbox|tablist|tree" aria-multiselectable="true|false"</code></p>
    <p><code>role="scrollbar|select|separator|slider|tablist|toolbar" aria-orientation="horizontal|vertical|undefined"</code></p>
    <p><code>role="button" aria-pressed="true|false|mixed"</code></p>
    <p><code>role=checkbox|combobox|grid|gridcell|listbox|radiogroup|slider|spinbutton|textbox" aria-readonly="true|false"</code></p>
    <p><code>role="combobox|gridcell|listbox|radiogroup|spinbutton|textbox|tree" aria-required="true|false"</code></p>
    <p><code>role="gridcell|option|row|tab" aria-selected="true|false|undefined"</code></p>
</section>
<section>
    <p><code>role="columnheader|rowheader" aria-sort="ascending|descending|none|other"</code></p>
    <p><code>role="range|scrollbar|separator|slider|spinbutton" aria-valuemax={number} aria-valuemin={number} aria-valuenow={number}</code></p>
    <p><code>role="range|separator" aria-valuetext={string}</code></p>
</section>
<section>
    <h3>Live region attributes</h3>
    <p><code>aria-live="polite|assertive|off"</code></p>
    <p><code>aria-live="polite" aria-atomic="true|false"</code></p>
    <p><code>aria-live="polite" aria-relevant="additions|text|removals|all"</code></p>
    <p><code>aria-live="assertive" aria-busy="true|false"</code></p>
</section>
<section>
    <h3>Implicit live region attributes</h3>
    <p>Several roles have implicit live region values:</p>
    <p><code>role="alert"</code> has an implicit <code>aria-live="assertive"</code></p>
    <p><code>role="status"</code> and <code>role="log"</code> have an implicit <code>aria-live="polite"</code></p>
    <p><code>role="timer"</code> and <code>role="marquee"</code> have an implicit <code>aria-live="off"</code></p>
    <p>These can be overridden by explicitly declaring <code>aria-live</code> values.</p>
</section>
<section>
    <h3>Relationship attributes</h3>
    <p><code>role="application|composite|group|textbox" aria-activedescendant={id}</code></p>
    <p><code>aria-controls={id}</code></p>
    <p><code>aria-describedby={id}</code> similar to <code>aria-labelledby</code>, but verbose instead of concise</p>
    <p><code>aria-labelledby={id}</code></p>
    <p><code>aria-flowto={id}</code> gives the user the option to move to an element, overriding the source order</p>
</section>
<section>
    <p><code>aria-owns={id}</code> Defines a parent-child relationship when one isn't semantically apparent. To understand how this is different from <code>aria-controls</code>, imagine a carousel. The arrows on the left and right would have <code>aria-controls</code> attributes. The dots at the bottom that correlate to individual slides would have <code>aria-owns</code> attributes.</p>
    <p><code>role="article|listitem|menuitem|option|radio|tab" aria-setsize={integer} aria-posinset={integer}</code> Only required when not all elements from the set are included in the DOM.</p>
</section>
<section>
    <h3>Hooray for linting!</h3>
    <p>Clone <a href="https://github.com/simonborer/a11y-linting" target='_blank'>https://github.com/simonborer/a11y-linting</a></p>
</section>
<section>
    <p>We will be looking at both an html linter (<code>htmllint</code>) and a command line auditing tool (<code>lighthouse</code>).</p>
</section>
<section>
    <h3>HTMLLint</h3>
    <ol>
        <li class="fragment">Open the project in your text editor</li>
        <li class="fragment">Look at package.json under &#34;dependencies&#34; and &#34;devDependencies&#34;</li>
        <li class="fragment">Open your command line client</li>
        <li class="fragment">Go to the project folder</li>
        <li class="fragment">Run &lt;code&gt;npm install&lt;/code&gt;</li>
    </ol>
</section>
<section>
    <ol>
        <li class="fragment">Look at package.json under &#34;scripts&#34; - this is where we define the node scripts the will get called by &lt;code&gt;npm run&lt;/code&gt;</li>
        <li class="fragment">&lt;code&gt;npm run build&lt;/code&gt;</li>
        <li class="fragment">htmllint options are defined in .htmllintrc - try getting rid of one of the tag bans to clear an error</li>
        <li class="fragment">Now try fixing the html to clear the rest</li>
        <li class="fragment">Tell me why we put htmllint under the &#34;build&#34; script</li>
    </ol>
</section>
<section>
    <h3>Lighthouse CLI</h3>
    <ol>
        <li class="fragment">Look at package.json under &#34;scripts&#34;, at the &#34;audit&#34; script. Read me this script in non-technical terms.</li>
        <li class="fragment">Run &lt;code&gt;npm run audit&lt;/code&gt; and view the output file.</li>
    </ol>
</section>
<section>
    <h3>Exercise: an accessible accordion</h3>
    <p>Build an accessible accordion and submit it as a pull request. Feel free to pair-program.</p>
</section>
<section>
    <h3>The internet is open</h3>
    <p>We work on an open platform. The beautiful thing about the internet is that it is a (nearly) global public space built on open access (e.g. Net Neutrality), standards and specifications. This comes with the responsibility, though, that you create services that are meant to be consumed by clients that haven't even been invented yet.</p>
    <p>You will work with (and by with, I mean for) people who do not understand the difference between accessing a pdf and opening a webpage.</p>
    <p>Having an open spec markup language is the backbone of the information age.</p>
</section>
<section>
    <h3>Firefox gets most of their money from...</h3>
    <p class="fragment">Google</p>
    <h3 class="fragment">Wait, why?</h3>
    <p class="fragment">Google's business model depends on the open web. It has made a multi-billion dollar bet that the best place to be is not in a "walled garden", but as the concierge to the innovations afforded by a democratized space.</p>
</section>
<section>
    <h3>You will need to advocate for answering hard questions</h3>
    <p>For those people who do not understand HTML vs PDF, you will need to impress on them that the internet is a place with a multitude of users, and that's not changing anytime soon. You will need to advocate for creating a service rather than an interactive paper flyer.</p>
    <p>This distinction is important because it acknowledges your many types of end user - from the dev/content/QA team, to Google's web crawler, to hackers, to archive.org, to Pocket and Instapaper, to screen readers, to everybody.</p>
</section>
<section>
    <h3>Users at cross-purposes</h3>
    <blockquote>I’m dyslexic, and one of the recommendations for reducing visual stress that I’ve found tremendously helpful is low contrast between text and background color. This, though, often means failing to meet accessibility requirements for people who are visually impaired... Consider:
        <ul>
            <li>Designing for one-handed mobile use raises problems because right-handedness is the default—but 10 percent of the population is left handed.</li>
            <li>Giving users a magnified detailed view on hover can create a mobile hover trap that obscures other content.</li>
            <li>Links must use something other than color to denote their “linkyness.” Underlines are used most often and are easily understood, but they can interfere with descenders and make it harder for people to recognize word shapes.</li>
        </ul>
        <br>
        <cite>Eleanor Ratliff, <a href="http://alistapart.com/article/accessibility-whack-a-mole" target="_blank">http://alistapart.com/article/accessibility-whack-a-mole</a></cite>
    </blockquote>
</section>
<section>
    <h3>Your job is not to write code - it is to solve problems</h3>
    <p>All the easy code has been written already. Don't worry, there are (for the time being), still plenty of jobs writing boring code. But that is less true than it was ten years ago, and will be less true in another ten. You need to think of yourself as someone who can solve the problem of 'How can we best make this work for everyone who needs it?'</p>
    <p>Last week we contrasted accessibility with usability by saying that usability is accessibility for a set audience, but accessibility legislation still limits that audience by defining it. You should always be open to expanding your definition of the end user.</p>
</section>
<section>
    <h3>Youtube stumbled on an audience</h3>
    <p>A few years ago, the Youtube dev team gave themselves a page-weight budget of 800kb. They optimized every conceivable aspect of the site. They predicted that they could get the average load time below 1s. When they released their new, lightning fast code, their average load times tripled.</p>
    <p>There were millions of users in the global south who suddenly were able to watch videos without the page timing out. The team had stumbled onto a massive audience they didn't know they had simply by taking best practices seriously.</p>
    <p>Do what you can for those you're aware of, and keep looking for those you aren't.</p>
</section>
<section>
    <h3>Ok, so who is the user?</h3>
    <p>You are in the strange position of making things that strangers will use. Some of these strangers may take it apart and put it back together. Some of these strangers will be malicious, some will be children, some will be clueless. Some of these strangers won't be human.</p>
    <p>SEO is just usability for bots. Design patterns, OOP and code comments are usability for other programmers (or yourself, later).</p>
</section>

  </div>
</div>

	
<script type="text/javascript" src="/js/reveal.js"></script>
<script>
Reveal.initialize({
  dependencies: [{ src: '/js/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
    {
      src: '/js/reveal-a11y.js',
      async: true,
      condition: function() {
        return !!document.body.classList;
      }
    }
  ]
});
</script>

</body>
</html>
